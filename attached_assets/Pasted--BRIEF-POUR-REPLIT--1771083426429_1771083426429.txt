ğŸ“‹ BRIEF POUR REPLIT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ AJOUT : Colonne "VOLTAGE MOY." dans le tableau des cycles
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ OBJECTIF
Ajouter une colonne "VOLTAGE MOY." affichant la tension moyenne (voltage_v) 
pour chaque cycle, Ã  cÃ´tÃ© de "COURANT MOY."

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¨ FRONTEND - TABLEAU DES CYCLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

A. MODIFIER L'ENTÃŠTE DU TABLEAU
--------------------------------

AVANT :
```html
<thead>
    <tr>
        <th>DEVICE</th>
        <th>CANAL</th>
        <th>DATE</th>
        <th>DEMARRAGE</th>
        <th>ARRET</th>
        <th>DUREE</th>
        <th>PUISSANCE MOY.</th>
        <th>COURANT MOY.</th>
        <!-- Manque VOLTAGE -->
    </tr>
</thead>
APRÃˆS :
<thead>
    <tr>
        <th>DEVICE</th>
        <th>CANAL</th>
        <th>DATE</th>
        <th>DEMARRAGE</th>
        <th>ARRET</th>
        <th>DUREE</th>
        <th>PUISSANCE MOY.</th>
        <th>COURANT MOY.</th>
        <th>VOLTAGE MOY.</th>  <!-- âœ… NOUVEAU -->
    </tr>
</thead>
B. MODIFIER LE CORPS DU TABLEAU (tbody)
Dans le JavaScript qui gÃ©nÃ¨re les lignes du tableau :
AVANT :
// Exemple hypothÃ©tique de construction de ligne
`<td>${cycle.avg_power_w.toFixed(1)} W</td>
 <td>${cycle.avg_ampere.toFixed(1)} A</td>`
APRÃˆS :
`<td>${cycle.avg_power_w.toFixed(1)} W</td>
 <td>${cycle.avg_ampere.toFixed(1)} A</td>
 <td>${cycle.voltage_v ? cycle.voltage_v.toFixed(1) : '-'} V</td>`  // âœ… NOUVEAU
C. FORMATAGE
Format attendu : XXX.X V (1 dÃ©cimale, comme les autres valeurs)
Exemples :
230.5 V
228.3 V
231.0 V
Si voltage_v est null ou undefined : afficher "-"
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š ORDRE DES COLONNES RECOMMANDÃ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Position logique aprÃ¨s COURANT MOY. car les 3 valeurs Ã©lectriques sont liÃ©es :
DEVICE
CANAL
DATE
DEMARRAGE
ARRET
DUREE
PUISSANCE MOY.
COURANT MOY.
VOLTAGE MOY. â† NOUVEAU (position 9)
MIN/MAX AMPERES (si existant)
MIN/MAX WATTS (si existant)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ VÃ‰RIFICATIONS BACKEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
S'assurer que voltage_v est bien prÃ©sent dans la rÃ©ponse API /api/pump-cycles :
# Dans detect_cycles() ou Ã©quivalent
cycle = {
    "channel": channel,
    "start_time": ...,
    "end_time": ...,
    "duration_minutes": ...,
    "avg_power_w": ...,
    "avg_ampere": ...,
    "voltage_v": ...,  # âœ… Doit Ãªtre prÃ©sent
    # ...
}
Si voltage_v n'est pas calculÃ© actuellement, il faut l'ajouter en calculant
la moyenne des mesures de tension pendant le cycle.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… CHECKLIST POST-BUILD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
HTML :
â˜ Colonne <th>VOLTAGE MOY.</th> ajoutÃ©e dans <thead>
â˜ Colonne <td> correspondante ajoutÃ©e dans <tbody>
â˜ Position : aprÃ¨s COURANT MOY.
JavaScript :
â˜ cycle.voltage_v utilisÃ© pour afficher la valeur
â˜ Format : .toFixed(1) pour 1 dÃ©cimale
â˜ Gestion cas null/undefined : afficher "-"
â˜ UnitÃ© "V" ajoutÃ©e
Backend (si nÃ©cessaire) :
â˜ voltage_v calculÃ© dans detect_cycles()
â˜ voltage_v prÃ©sent dans la rÃ©ponse JSON
â˜ Valeur cohÃ©rente (gÃ©nÃ©ralement 230V Â±10%)
Tests visuels :
â˜ Colonne visible dans le tableau
â˜ Valeurs affichÃ©es au format XXX.X V
â˜ Alignement correct avec les autres colonnes
â˜ Scroll horizontal fonctionne (mobile)
Tests fonctionnels :
â˜ Valeurs voltage cohÃ©rentes (220-240V typiquement)
â˜ Pas d'erreur si voltage_v manquant
â˜ Format 1 dÃ©cimale respectÃ©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ EXEMPLE RENDU ATTENDU
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ligne du tableau :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DEVICE  â”‚ CANAL â”‚ DATE       â”‚ DEMAR.  â”‚ ARRET â”‚ DURÃ‰E  â”‚ PUIS.MOY â”‚ COUR.MOY  â”‚ VOLT.MOY   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sagemcomâ”‚ PR1   â”‚ 14/02/2026 â”‚ 09h40   â”‚ 09h45 â”‚ 5 min  â”‚ 1207.2 W â”‚ 2.4 A     â”‚ 230.5 V    â”‚
â”‚ Sagemcomâ”‚ PS    â”‚ 14/02/2026 â”‚ 09h40   â”‚ En cours    â”‚ 352 minâ”‚ 422.9 W  â”‚ 2.4 A     â”‚ 228.3 V    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¡ NOTES TECHNIQUES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
POURQUOI LE VOLTAGE ?
Permet de dÃ©tecter les variations de tension secteur
Utile pour diagnostiquer problÃ¨mes Ã©lectriques
ComplÃ¨te le trio P = U Ã— I (Puissance = Tension Ã— IntensitÃ©)
VALEURS NORMALES
France : 230V Â±10% â†’ 207-253V acceptable
Si voltage < 220V : Tension basse (risque pompe)
Si voltage > 240V : Tension haute (surveiller)
CALCUL (si nÃ©cessaire cÃ´tÃ© backend)
Moyenne des mesures voltage pendant le cycle
Filtrer les valeurs aberrantes (< 180V ou > 260V)
Arrondir Ã  1 dÃ©cimale pour l'affichage
LARGEUR MINIMALE TABLEAU
Ajouter ~80-100px pour la nouvelle colonne
Ajuster min-width du .table-wrapper si nÃ©cessaire

---

## ğŸ¯ RÃ‰SUMÃ‰

**Ajout** : Colonne "VOLTAGE MOY." aprÃ¨s "COURANT MOY."

**Format** : XXX.X V (1 dÃ©cimale)

**Source** : cycle.voltage_v

**Position** : Entre COURANT MOY. et MIN/MAX (si existant)
